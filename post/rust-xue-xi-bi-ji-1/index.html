<html>
  <head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Rust学习笔记-1 | jaczuo</title>
<link rel="shortcut icon" href="https://jaczuo.github.io/favicon.ico?v=1556012078701">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://jaczuo.github.io/styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://jaczuo.github.io">
  <img class="avatar" src="https://jaczuo.github.io/images/avatar.png?v=1556012078701" alt="">
  </a>
  <h1 class="site-title">
    jaczuo
  </h1>
  <p class="site-description">
    温故而知新
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

      
        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              Rust学习笔记-1
            </h2>
            <div class="post-info">
              <time class="post-time">
                · 2018-12-12 ·
              </time>
              
                <a href="https://jaczuo.github.io/tag/dVXIInxMc" class="post-tags">
                  # Rust
                </a>
              
            </div>
            
              <div class="post-feature-image" style="background-image: url('https://jaczuo.github.io/post-images/rust-xue-xi-bi-ji-1.png')">
              </div>
            
            <div class="post-content">
              <h3 id="先从示例开始">先从示例开始</h3>
<pre><code class="language-rust">main.rs
fn main() {
    println!(&quot;Hello, world!&quot;);
}
</code></pre>
<p>编译方法 <code>rustc main.rs</code></p>
<blockquote>
<p>! 意味着调用的是宏而不是普通函数</p>
</blockquote>
<h3 id="cargo-系统构建和包管理工具">Cargo 系统构建和包管理工具</h3>
<ol>
<li>
<p>新建项目 <strong>{cargo new hellocargo --bin}</strong></p>
<p>目录结构如下
├── Cargo.toml
└── src
└── main.rs</p>
</li>
<li>
<p>编译  <em><strong>cargo build</strong></em></p>
</li>
<li>
<p>检查（编译但不生成可执行文件）<strong>cargo check</strong></p>
</li>
<li>
<p>构建并运行  <strong>cargo run</strong></p>
</li>
<li>
<p>发布 <strong>cargo build --release</strong></p>
</li>
</ol>
<h3 id="基础编程概念">基础编程概念</h3>
<ol>
<li>
<p>变量和常量</p>
<p><code>let</code>声明变量，变量声明后将不能改变，除非通过 <code>mut</code></p>
<pre><code class="language-rust">fn main() {
    let x = 5;
    println!(&quot;The value of x is: {}&quot;, x);
    x = 6; // wrong
    println!(&quot;The value of x is: {}&quot;, x);
    let mut x = 5;
    println!(&quot;The value of x is: {}&quot;, x);
    x = 6; // right
    println!(&quot;The value of x is: {}&quot;, x);
}
</code></pre>
<p>声明常量使用 <code>const</code> 关键字而不是 <code>let</code>，并且 必须 注明值的类型。
const MAX_POINTS: u32 = 100_000;</p>
</li>
<li>
<p>数据类型
除了常见的整型，浮点型，布尔型之外，还有元组类型。
Rust的元组和Python有类似之处。</p>
<pre><code class="language-rust">fn main() {
    let tup = (500, 6.4, 1);

    let (x, y, z) = tup;

    println!(&quot;The value of y is: {}&quot;, y);

    let x: (i32, f64, u8) = (500, 6.4, 1);

    let five_hundred = x.0;

    let six_point_four = x.1;

    let one = x.2;
}
</code></pre>
</li>
</ol>
<h3 id="函数">函数</h3>
<p>先来看一个具体的示例</p>
<pre><code class="language-rust">fn main() {
    let x = plus_one(5);

    println!(&quot;The value of x is: {}&quot;, x);
}

fn plus_one(x: i32) -&gt; i32 {
    x + 1
}
</code></pre>
<ul>
<li>函数声明的关键字 <code>fn</code></li>
<li>传参 <code>x: i32</code> x 为变量名， i32 为类型, 传参时<strong>必须</strong>声明参数类型</li>
<li>返回值 仅指定类型 <code>-&gt; i32</code> 结尾处的语句 <code>x + 1</code> 如果加上分号将不能正确执行，这里有语句和表达式的区别</li>
<li>Rust语句不返回值，表达式可以</li>
<li>使用 <code>return</code> 关键字可以提前返回</li>
</ul>
<h3 id="控制流">控制流</h3>
<h4 id="ifelse">if/else</h4>
<pre><code class="language-rust">fn main() {
    let condition = true;
    let number = if condition {
        5
    } else {
        6
    };

    println!(&quot;The value of number is: {}&quot;, number);
}
</code></pre>
<ul>
<li><strong>if/else</strong>关键字之后不需要添加括号，也不需要像Python那样加冒号</li>
<li><strong>if</strong> 是一个表示式，因此具有返回值。代码块的值是其最后一个表达式的值</li>
<li>每个分支的返回值类型必须相同</li>
</ul>
<h4 id="loop">loop</h4>
<p>无条件执行，可以通过 <code>break</code> 退出</p>
<pre><code class="language-rust">fn main() {
    loop {
        println!(&quot;again!&quot;);
    }
}
</code></pre>
<h4 id="while">while</h4>
<p>循环条件不加括号</p>
<pre><code class="language-rust">fn main() {
    let mut number = 3;

    while number != 0 {
        println!(&quot;{}!&quot;, number);

        number = number - 1;
    }

    println!(&quot;LIFTOFF!!!&quot;);
}
</code></pre>
<h4 id="for">for</h4>
<p>感受下 <code>Rust</code> 风格的for循环</p>
<pre><code class="language-rust">fn main() {
    let a = [10, 20, 30, 40, 50];

    for element in a.iter() {
        println!(&quot;the value is: {}&quot;, element);
    }
}
</code></pre>

            </div>
          </article>
        </div>
    
        

        
    
        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

      </div>
    </div>
  </body>
</html>
